<ng-template #t let-fill="fill">
  <span class="star" [class.full]="fill === 100">
    <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
  </span>
</ng-template>



<div class="row" *ngIf="showTable">
  <div class="col">
    <div ngbDropdown class="d-inline-block">
      <button class="btn btn-outline-primary" id="dropdownBasic1" ngbDropdownToggle>Velg relevans</button>
      <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
        <button class="dropdown-item" (click)="toggleIntern()">Test - Habil</button>
        <button class="dropdown-item" (click)="toggleExtern()">Test - Innhabil</button>
      </div>
    </div>
  </div>
</div>


<table class="table table-hover" *ngIf="showTable">
  <thead>
    <tr>
      <th>Relevans <span *ngIf="toggle">(Habil)</span> <span *ngIf="!toggle">(Innhabil)</span></th>
      <th>Forsker</th>
      <th>Posisjon</th>
      <th>Institusjon</th>
      <th>Institutt</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let person of (dataTable | callback: toggle)">
      <td>
        <ngb-rating [rate]="person.similarities" [starTemplate]="t"></ngb-rating>
        {{person.similarities}}
      </td>
      <td>{{person.firstName}} {{person.lastName}}</td>
      <td>{{person?.position}}</td>
      <td>{{person?.institution}}</td>
      <td>{{person?.institute}}</td>
    </tr>
  </tbody>
</table>

